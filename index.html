<!-- Code from https://stackoverflow.com/questions/39263321/javascript-get-html-timezone-dropdown -->
<style>
    select {
        width: 400px;
        padding: 4px;
    }

    button {
        margin-top: 16px;
        font-size: 24px;
    }

    .hint {
        color: orangered;
    }

    .container {
        display: flex;
        flex-direction: row;
    }

    .dropdown {
        width: 400px;
        display: flex;
        flex-direction: column;
        padding: 4px;
    }

    .time {
        font-size: 24px;
        margin-top: 16px;
    }
</style>
<script>

let timezones = [
    {"label":"(GMT-12:00) International Date Line West","value":-12},
    {"label":"(GMT-11:00) Midway Island, Samoa","value":-11},
    {"label":"(GMT-10:00) Hawaii","value":-10},
    {"label":"(GMT-09:00) Alaska","value":-9},
    {"label":"(GMT-08:00) Pacific Time (US & Canada), Tijuana, Baja California","value":-8},
    {"label":"(GMT-07:00) Arizona, Mountain Time (US & Canada)","value":-7},
    {"label":"(GMT-06:00) Central Time (US & Canada)","value":-6},
    {"label":"(GMT-05:00) Eastern Time (US & Canada), Bogota, Lima, Quito, Rio Branco","value":-5},
    {"label":"(GMT-04:00) Atlantic Time (Canada), Caracas, La Paz, Manaus, Santiago","value":-4},
    {"label":"(GMT-03:30) Newfoundland","value":-3.5},
    {"label":"(GMT-03:00) Brasilia, Buenos Aires, Georgetown, Greenland, Montevideo","value":-3},
    {"label":"(GMT-02:00) Mid-Atlantic","value":-2},
    {"label":"(GMT-01:00) Cape Verde Is. Azores","value":-1},
    {"label":"(GMT+00:00) Dublin, Edinburgh, Lisbon, London, Casablanca, Monrovia, Reykjavik","value":0},
    {"label":"(GMT+01:00) Amsterdam, Berlin, Rome, Stockholm, Vienna,, Budapest, Prague, Brussels, Copenhagen, Madrid, Paris","value":1},
    {"label":"(GMT+02:00) Athens, Bucharest, Istanbul","value":2},
    {"label":"(GMT+03:00) Moscow, St. Petersburg, Kuwait, Riyadh, Baghdad","value":3},
    {"label":"(GMT+04:00) Abu Dhabi, Muscat","value":4},
    {"label":"(GMT+04:30) Kabul","value":4.5},
    {"label":"(GMT+05:00) Islamabad, Karachi, Tashkent, Yekaterinburg","value":5},
    {"label":"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi, Sri Jayawardenapura","value":5.5},
    {"label":"(GMT+05:45) Kathmandu","value":5.75},
    {"label":"(GMT+06:00) Astana, Dhakam, Almaty, Novosibirsk","value":6},
    {"label":"(GMT+06:30) Yangon (Rangoon)","value":6.5},
    {"label":"(GMT+07:00) Bangkok, Hanoi, Jakarta, Krasnoyarsk","value":7},
    {"label":"(GMT+08:00) Beijing, Taipei, Hong Kong, Urumqi, Kuala Lumpur, Singapore","value":8},
    {"label":"(GMT+09:00) Osaka, Sapporo, Tokyo, Seoul","value":9},
    {"label":"(GMT+09:30) Adelaide, Darwin","value":9.5},
    {"label":"(GMT+10:00) Brisbane, Canberra, Melbourne, Sydney, Hobart, Gua, Vladivostok","value":10},
    {"label":"(GMT+11:00) Magadan, Solomon Is., New Caledonia","value":11},
    {"label":"(GMT+12:00) Auckland, Wellington, Fiji, Kamchatka, Marshall Is.","value":12},
    {"label":"(GMT+13:00) Nuku'alofa","value":13}
]

let dstTimezones = [
    {"label":"(GMT-12:00) International Date Line West","value":-12},
    {"label":"(GMT-11:00) Midway Island, Samoa","value":-11},
    {"label":"(GMT-10:00) Hawaii","value":-10},
    {"label":"(GMT-08:00) Alaska","value":-8},
    {"label":"(GMT-07:00) Pacific Time (US & Canada)","value":-7},
    {"label":"(GMT-06:00) Arizona, Mountain Time (US & Canada)","value":-6},
    {"label":"(GMT-05:00) Central Time (US & Canada)","value":-5},
    {"label":"(GMT-04:00) Eastern Time (US & Canada)","value":-4},
    {"label":"(GMT-04:00) Atlantic Time (Canada)","value":-4},
    {"label":"(GMT-03:30) Newfoundland","value":-3.5},
    {"label":"(GMT-03:00) Brasilia, Buenos Aires, Georgetown, Greenland, Montevideo","value":-3},
    {"label":"(GMT-02:00) Mid-Atlantic","value":-2},
    {"label":"(GMT-01:00) Cape Verde Is. Azores","value":-1},
    {"label":"(GMT+00:00) Dublin, Edinburgh, Lisbon, London, Casablanca, Monrovia, Reykjavik","value":0},
    {"label":"(GMT+01:00) Amsterdam, Berlin, Rome, Stockholm, Vienna,, Budapest, Prague, Brussels, Copenhagen, Madrid, Paris","value":1},
    {"label":"(GMT+02:00) Athens, Bucharest, Istanbul","value":2},
    {"label":"(GMT+03:00) Moscow, St. Petersburg, Kuwait, Riyadh, Baghdad","value":3},
    {"label":"(GMT+04:00) Abu Dhabi, Muscat","value":4},
    {"label":"(GMT+04:30) Kabul","value":4.5},
    {"label":"(GMT+05:00) Islamabad, Karachi, Tashkent, Yekaterinburg","value":5},
    {"label":"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi, Sri Jayawardenapura","value":5.5},
    {"label":"(GMT+05:45) Kathmandu","value":5.75},
    {"label":"(GMT+06:00) Astana, Dhakam, Almaty, Novosibirsk","value":6},
    {"label":"(GMT+06:30) Yangon (Rangoon)","value":6.5},
    {"label":"(GMT+07:00) Bangkok, Hanoi, Jakarta, Krasnoyarsk","value":7},
    {"label":"(GMT+08:00) Beijing, Taipei, Hong Kong, Urumqi, Kuala Lumpur, Singapore","value":8},
    {"label":"(GMT+09:00) Osaka, Sapporo, Tokyo, Seoul","value":9},
    {"label":"(GMT+09:30) Adelaide, Darwin","value":9.5},
    {"label":"(GMT+10:00) Brisbane, Canberra, Melbourne, Sydney, Hobart, Gua, Vladivostok","value":10},
    {"label":"(GMT+11:00) Magadan, Solomon Is., New Caledonia","value":11},
    {"label":"(GMT+12:00) Auckland, Wellington, Fiji, Kamchatka, Marshall Is.","value":12},
    {"label":"(GMT+13:00) Nuku'alofa","value":13}
]


let times = [
    {"label": "0am", value: 0},
    {"label": "1am", value: 1},
    {"label": "2am", value: 2},
    {"label": "3am", value: 4},
    {"label": "4am", value: 4},
    {"label": "5am", value: 5},
    {"label": "6am", value: 6},
    {"label": "7am", value: 7},
    {"label": "8am", value: 8},
    {"label": "9am", value: 9},
    {"label": "10am", value: 10},
    {"label": "11am", value: 11},
    {"label": "12pm", value: 12},
    {"label": "1pm", value: 13},
    {"label": "2pm", value: 14},
    {"label": "3pm", value: 15},
    {"label": "4pm", value: 16},
    {"label": "5pm", value: 17},
    {"label": "6pm", value: 18},
    {"label": "7pm", value: 19},
    {"label": "8pm", value: 20},
    {"label": "9pm", value: 21},
    {"label": "10pm", value: 22},
    {"label": "11pm", value: 23},
]

function isDST() {
    const d = new Date();
    let jan = new Date(d.getFullYear(), 0, 1).getTimezoneOffset();
    let jul = new Date(d.getFullYear(), 6, 1).getTimezoneOffset();
    return Math.max(jan, jul) !== d.getTimezoneOffset();    
}

function init(){
    const defaultWorkTimezoneInt = 0 - (new Date().getTimezoneOffset() / 60);        
    const des = document.getElementById("destination"),
         work = document.getElementById("workzone");
    
    const tz = isDST() ? dstTimezones : timezones;

    for (var i = 0; i < timezones.length; i++){
        insertOption(tz[i], des, tz[i].value == 9);   // default to tokyo
        insertOption(tz[i], work, tz[i].value == defaultWorkTimezoneInt); // default to current
     }

     const startWork = document.getElementById("start"),
        endWork = document.getElementById("end");

    for (var i = 0; i < times.length; i++) {
        insertOption(times[i], startWork, i == 9);
        insertOption(times[i], endWork, i == 17);
    }

    const hint = document.getElementById("hint");
    hint.textContent = "You're currently " + (isDST() ? "in " : "") + "Daylight Saving (fuck this shit). Your destination hours may change depending on your travel plan."
}

function insertOption(object, select, selected) {
    const option = document.createElement("option");
    option.text = object.label;
    option.value = object.value;
    option.selected = selected;
    select.add(option);
}

function calculate() {
    const des = document.getElementById("destination").value,
        work = document.getElementById("workzone").value;
        start = document.getElementById("start").value;
        end = document.getElementById("end").value;
    const diff = des - work;
    const desStartInt = (start + diff) % 23,
        desEndInt = (end + diff) % 23;
    const desStart = document.getElementById("desStart"),
        desEnd = document.getElementById("desEnd");
    console.log({des, work, start, end, diff});
    desStart.textContent = times.find((time, value) => time.value == desStartInt).label;
    desEnd.textContent = times.find((time, value) => time.value == desEndInt).label;
}

</script>
<body onload="init();">
    <h2>Pick your travel destination and work zone</h2>
    <h3 class="hint" id="hint"></h3>
    <div class="container">
        <div class="dropdown">
            <h2>Travel Destination Timezone</h2>
            <select id="destination"></select>
        </div>
        <div class="dropdown">
            <h2>Work Timezone</h2>
            <select id="workzone"></select>
        </div>
    </div>
    <button onclick="calculate();">Calculate</button>
    <div class="container">
        <div class="dropdown">
            <h2>Start work at</h2>
            <select id="start"></select>
        </div>
        <div class="dropdown">
            <h2>End work at</h2>
            <select id="end"></select>
        </div>
    </div>
    <div class="time">
        Your local work hour will be: <label id="desStart">1am</label> ~ <label id="desEnd">9am</label>
    </div>
</body>